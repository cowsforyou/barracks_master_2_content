<root>
	<scripts>
		<include src="file://{resources}/scripts/modular.js" />
	</scripts>

	<styles>
		<include src="file://{resources}/styles/modules/picking_player.css" />
	</styles>

	<script>
		//Module definition
		Modular.DefineThis({

			//Set the player for this avatar
			SetPlayer : function( playerID ) {
				var pID = playerID;
				var playerInfo = Game.GetPlayerInfo( playerID );
				$('#PlayerAvatar').steamid = playerInfo.player_steamid;
				$('#PlayerName').text = playerInfo.player_name;
			},

			//Sets if the panel is on the right or left side of the screen
			SetIsRight : function( isRight ) {
				var panel = $.GetContextPanel();
				if (isRight) {
					panel.AddClass( "right" );
					//Swap the order of elements
					panel.MoveChildBefore( $("#HeroPanel"), $("#PlayerAvatar") );
				} else {
					panel.RemoveClass( "right" );
					//Swap the order of elements
					panel.MoveChildBefore( $("#PlayerAvatar"), $("#HeroPanel") );
				}
			},

			//Set the hero of the player, then set the transform to none,
			//which animates the hero portrait panel
			SetHero : function( heroName ) {
				$('#HeroPanelFaction').text = heroName;
			},

			//Set the color of the players team
			SetColor : function( color ) {
				$('#HeroPanelColor').text = color.charAt(0).toUpperCase() + color.slice(1);
			},

			//Set the color of the players team
			SetTeam : function( team ) {
				$('#HeroPanelTeam').text = team;
			},

			//Set the color of the players team
			SetStatus : function( status ) {
				$('#HeroPanelStatus').text = status;
			}
		});
	</script>

	<Panel class="PickingPlayer">
		<DOTAAvatarImage id="PlayerAvatar" class="AvatarImg" />
		<Label id='PlayerName' text="?" />
		<Label text="Calibrating" />
		<Label id='HeroPanelColor' text='?' />
		<Label id='HeroPanelFaction' text='?' />
		<Label id='HeroPanelTeam' text='?'/>
		<Label id='HeroPanelStatus' text='Waiting' />
		<Panel id="HeroPanel" />
	</Panel>
</root>