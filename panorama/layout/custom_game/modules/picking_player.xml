<root>
	<scripts>
		<include src="file://{resources}/scripts/modular.js" />
	</scripts>

	<styles>
		<include src="file://{resources}/styles/modules/picking_player.css" />
	</styles>

	<script>
		//Module definition
		Modular.DefineThis({

			//Set the player for this avatar
			SetPlayer : function( playerID ) {
				var pID = playerID;
				var playerInfo = Game.GetPlayerInfo( playerID );
				$('#PlayerName').text = playerInfo.player_name;
			},

			//Sets if the panel is on the right or left side of the screen
			SetIsRight : function( isRight ) {
				var panel = $.GetContextPanel();
				if (isRight) {
					panel.AddClass( "right" );
					//Swap the order of elements
					panel.MoveChildBefore( $("#HeroPanel"), $("#PlayerAvatar") );
				} else {
					panel.RemoveClass( "right" );
					//Swap the order of elements
					panel.MoveChildBefore( $("#PlayerAvatar"), $("#HeroPanel") );
				}
			},

			//Set the hero of the player, then set the transform to none,
			//which animates the hero portrait panel
			SetHero : function( heroName ) {
				if (heroName === "Random") {
					$('#HeroFactionAvatar').SetImage("file://{images}/custom_game/pregame_screen/question_mark.png");
				} else if (heroName === "Ling") {
					$('#HeroFactionAvatar').SetImage("file://{images}/custom_game/pregame_screen/ling.png");
				} else {
					$('#HeroFactionAvatar').SetImage("file://{images}/custom_game/pregame_screen/xoya.png");
				}
			},

			//Set the color of the players team
			SetColor : function( color ) {
				let displayColor = color;
				switch(color) {
					case "LightGreen":
					displayColor = "Light Green";
					break;
					case "LightBlue":
					displayColor = "Light Blue";
					break;
				}

				$('#HeroColorContainer').style.backgroundColor = color
			},

			//Set the color of the players team
			SetTeam : function( team ) {
				$('#HeroPanelTeam').text = team;
			},

			//Set the color of the players team
			SetStatus : function( status ) {
				$('#HeroPanelStatus').text = status;
			}
		});
	</script>

	<Panel class="PickingPlayer">
	<Panel id="HeroColorContainer">
		<Image id="HeroFactionAvatar" src="file://{images}/custom_game/pregame_screen/question_mark.png"/>
		</Panel>
		<Label id='PlayerName' text="?" />
		<Label id='HeroPanelTeam' text='?'/>
		<Label id='HeroPanelStatus' text='Waiting' />
		<Panel id="HeroPanel" />
	</Panel>
</root>